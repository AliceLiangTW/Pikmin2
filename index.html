<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å…¬å¸å°¾ç‰™è¾¦åœ¨å¤§å¹´åˆäº”</title>

<style>
:root{
  --bg:#f2f1ed;
  --card:#ffffff;
  --primary:#a98467;
  --accent:#7f5539;
  --soft:#ede0d4;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Noto Sans TC",sans-serif;
  background:var(--bg);
}

header{
  background:var(--primary);
  color:#fff;
  padding:18px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
}

.nav{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  padding:10px;
  justify-content:center;
}

.nav button{
  border:none;
  background:var(--soft);
  padding:6px 10px;
  border-radius:10px;
  cursor:pointer;
}

.nav button.active{
  background:var(--accent);
  color:#fff;
}

.container{
  max-width:520px;
  margin:auto;
  padding:20px;
  animation:fade .3s ease;
}

@keyframes fade{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}

.question{
  font-size:18px;
  margin-bottom:18px;
}

.card{
  background:var(--card);
  padding:18px;
  border-radius:16px;
  margin-bottom:12px;
  text-align:center;
  box-shadow:0 6px 14px rgba(0,0,0,.08);
  transition:.2s;
  cursor:pointer;
}

.card.selected{background:var(--soft);}
.card.dragging{opacity:.6; transform:scale(1.05);}

button.main{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:var(--accent);
  color:#fff;
  font-size:16px;
}

.result{font-size:20px;text-align:center;}
.review{font-size:14px;margin-top:10px;}
</style>
</head>

<body>

<header>ğŸ’ƒ å…¬å¸å°¾ç‰™è¾¦åœ¨å¤§å¹´åˆäº” ğŸ’ƒ</header>
<div class="nav" id="nav"></div>
<div class="container" id="app"></div>

<script>

const QUESTIONS = [
{type:"multi",q:"æœ¬å…¬å¸ç¶“ç‡Ÿæ¥­å‹™ç›¸ç•¶å¤šå…ƒï¼Œè«‹å•ä¸‹åˆ—ä½•è€…ç‚ºç¶“ç‡Ÿé …ç›®ï¼Ÿ",
 opts:["å››æ˜Ÿå·¨","æªæ‰“ç¾ç‰‡","å¡è‡","è·¨æœˆå¤§å…ƒç´ "],
 ans:["å››æ˜Ÿå·¨","æªæ‰“ç¾ç‰‡","å¡è‡","è·¨æœˆå¤§å…ƒç´ "]},

{type:"single",q:"å…µè²´ç¥é€Ÿï¼Œè«‹å•ä¸‹åˆ—å“ªä¸€ä½é€²è‡é€Ÿåº¦æœ€å¿«ï¼Ÿ",
 opts:["è‰","æ¯›","KU","è€å…¬"],ans:["è‰"]},

{type:"single",q:"å‹é—†æ…ˆæ‚²ç‚ºæ‡·ï¼Œå¸¸åœ¨å¤§ç¾¤ä½ˆæ–½ï¼Œè«‹å•å‹é—†æªé‡å¥³äººé€²è‡çš„å°è©æ˜¯ï¼Ÿ",
 opts:["å…„å¼Ÿå¤§é£¯åº—","ä¾†ä¾†å¤§é£¯åº—","æ™¶è¯é…’åº—","ç¦è¯é£¯åº—"],
 ans:["ä¾†ä¾†å¤§é£¯åº—"]},

{type:"multi",q:"è«‹å•ä¸‹åˆ—å“ªä½ç¥ç§˜äººå£«å°šæœªæ´©æ¼æœ¬åï¼Ÿ",
 opts:["äºˆç§§","å¤šè‰","ä¼°è‘£","å‹é—†","ã„‘","åœ°ç“œ","ã„ŸåŠ›é…¥"],
 ans:["äºˆç§§","åœ°ç“œ"]},

{type:"single",q:"å…¬å¸ç¾¤çµ„åµå¾—è¦å‘½ï¼Œè«‹å•ä¸‹åˆ—å“ªå€‹é—œéµå­—å‡ºç¾æœ€å¤šæ¬¡ï¼Ÿ",
 opts:["åç‰¢","é•·ç…§","æ‹‰å±","ç¬‘å±"],ans:["ç¬‘å±"]},

{type:"sort",q:"è«‹å°‡æœ¬å…¬å¸æˆå“¡çš„ç¾å±…ä½åœ°ï¼Œç”±å—åˆ°åŒ—ä¾åºæ’åˆ—ï¼š",
 items:["æ","ã„‘","ç“œ","é…¥"],ans:["æ","ã„‘","é…¥","ç“œ"]},

{type:"match",q:"æŠ±å°èœœå¤§è…¿å°±æœ‰è‡å¯æ‰“ï¼Œè«‹é¸å‡ºæ­£ç¢ºçš„å¤§è…¿åœï¼Ÿ",
 pairs:{æ:"21",ã„‘:"55",ç“œ:"16",é…¥:"15"}},

{type:"match",q:"è«‹é…å°åœ°ç“œå‹•ç‰©åœ’å±…æ°‘çš„æ­£ç¢ºæ•¸é‡ï¼Ÿ",
 pairs:{è²“:"1",å¤©ç«ºé¼ :"3",çƒé¾œ:"3",é­š:"ä¸€å †"}},

{type:"match",q:"è«‹é…å°æ­£ç¢ºçš„è€å·¢ï¼Ÿ",
 pairs:{æ:"åœŸè€³å…¶",ã„‘:"è·è˜­",ç“œ:"åŒ—æµ·é“",é…¥:"å¢¨è¥¿å“¥"}},

{type:"sort",q:"è«‹ä¾å¤§å§¨åª½ä¾†çš„é †åºï¼Œå¾æœˆåˆåˆ°æœˆåº•æ’åˆ—ï¼š",
 items:["æ","ã„‘","ç“œ","é…¥"],ans:["ç“œ","æ","é…¥","ã„‘"]}
];

let current=0;
let score=0;
let answers=Array(QUESTIONS.length).fill(null);

const app=document.getElementById("app");
const nav=document.getElementById("nav");

function shuffle(a){return [...a].sort(()=>Math.random()-0.5)}

function buildNav(){
  nav.innerHTML="";
  QUESTIONS.forEach((_,i)=>{
    const b=document.createElement("button");
    b.textContent=i+1;
    if(i===current)b.classList.add("active");
    b.onclick=()=>{current=i;render();}
    nav.appendChild(b);
  });
}

function render(){
  buildNav();
  const q=QUESTIONS[current];
  app.innerHTML=`<div class="question">ç¬¬ ${current+1} é¡Œ<br>${q.q}</div>`;

  if(q.type==="single"||q.type==="multi"){
    let selected=answers[current]||[];
    const opts=shuffle(q.opts);
    opts.forEach(o=>{
      const d=document.createElement("div");
      d.className="card";
      d.textContent=o;
      if(selected.includes(o))d.classList.add("selected");
      d.onclick=()=>{
        if(q.type==="single")selected=[o];
        else selected.includes(o)?selected=selected.filter(x=>x!==o):selected.push(o);
        answers[current]=selected;
        render();
      }
      app.appendChild(d);
    });
    addNext();
  }

  if(q.type==="sort"){
    let list=answers[current]||shuffle(q.items);
    const box=document.createElement("div");
    list.forEach(it=>{
      const d=document.createElement("div");
      d.className="card";
      d.textContent=it;
      d.draggable=true;
      d.ondragstart=e=>e.dataTransfer.setData("text",it);
      d.ondragover=e=>e.preventDefault();
      d.ondrop=e=>{
        e.preventDefault();
        const from=e.dataTransfer.getData("text");
        const newList=[...list];
        const i1=newList.indexOf(from);
        const i2=newList.indexOf(it);
        [newList[i1],newList[i2]]=[newList[i2],newList[i1]];
        answers[current]=newList;
        render();
      }
      box.appendChild(d);
    });
    app.appendChild(box);
    addNext();
  }

  if(q.type==="match"){
    let match=answers[current]||{};
    const keys=Object.keys(q.pairs);
    const values=shuffle(Object.values(q.pairs));
    keys.forEach(k=>{
      const row=document.createElement("div");
      row.className="card";
      row.textContent=k+" â†’ "+(match[k]||"é¸æ“‡");
      row.onclick=()=>{
        const val=prompt("è¼¸å…¥å°æ‡‰å€¼ï¼š"+values.join(" / "));
        if(val)match[k]=val;
        answers[current]=match;
        render();
      }
      app.appendChild(row);
    });
    addNext();
  }
}

function addNext(){
  const b=document.createElement("button");
  b.className="main";
  b.textContent=current===QUESTIONS.length-1?"å®Œæˆ":"ä¸‹ä¸€é¡Œ";
  b.onclick=next;
  app.appendChild(b);
}

function next(){
  const q=QUESTIONS[current];
  const a=answers[current];
  let correct=false;

  if(q.type==="single"||q.type==="multi")
    correct=JSON.stringify((a||[]).sort())===JSON.stringify(q.ans.sort());

  if(q.type==="sort")
    correct=JSON.stringify(a)===JSON.stringify(q.ans);

  if(q.type==="match"){
    correct=true;
    for(let k in q.pairs)if(a?.[k]!==q.pairs[k])correct=false;
  }

  if(correct)score+=10;

  if(current<QUESTIONS.length-1){current++;render();}
  else showResult();
}

function showResult(){
  app.innerHTML=`<div class="result">ğŸ‰ å®Œæˆ ğŸ‰<br><br>ä½ çš„å¾—åˆ†ï¼š<b>${score}/100</b></div>`;
}

render();

</script>
</body>
</html>
